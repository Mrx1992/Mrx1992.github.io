# rsync-cmd命令总结1

## 名称
- rsync - 一个快速、通用的远程（和本地）文件复制工具。

## 简要

- 本地
```
rsync [OPTION...] SRC... [DEST]
```

- 通过远程shell访问
```
Pull:
        rsync [OPTION...] [USER@]HOST:SRC... [DEST]
Push:
        rsync [OPTION...] SRC... [USER@]HOST:DEST
```

- 通过rsync守护进程访问
```
Pull:
        rsync [OPTION...] [USER@]HOST::SRC... [DEST]
        rsync [OPTION...] rsync://[USER@]HOST[:PORT]/SRC... [DEST]
Push:
        rsync [OPTION...] SRC... [USER@]HOST::DEST
        rsync [OPTION...] SRC... rsync://[USER@]HOST[:PORT]/DEST)
```

- 只有一个SRC arg而没有DEST arg的用法将列出源文件，而不是复制。

## 说明

- Rsync是一款快速且非常通用的文件复制工具。
- 它可以在本地复制，通过任何远程shell复制到/从另一台主机复制，或者复制到/从远程rsync守护进程复制。
- 它提供了大量的选项来控制其行为的各个方面，并允许非常灵活地指定要复制的文件集。
- 它以其delta-transfer算法而闻名，通过只发送源文件和目标文件之间的差异来减少网络上发送的数据量。
- Rsync被广泛用于备份和镜像，并作为日常使用的改进型复制命令。

- Rsync使用 "快速检查 "算法（默认情况下）查找需要传输的文件，该算法会查找大小或最后修改时间有变化的文件。
- 当快速检查表明文件的数据不需要更新时，其他保留的属性（如选项要求的）的任何变化都会直接在目标文件上进行。

- rsync的一些附加功能是：
  - 支持复制链接、设备、所有者、组和权限。
  - exclude和exclude-from选项类似于GNU tar
  - CVS 排除模式，用于忽略 CVS 会忽略的相同文件。
  - 可以使用任何透明的远程shell，包括ssh或rsh。
  - 不需要超级用户权限
  - 文件传输的管道化，以最大限度地降低延迟成本。
  - 支持匿名或认证的rsync守护进程（理想的镜像）。

## 总则
- Rsync可以将文件复制到远程主机或从远程主机复制，也可以在当前主机上本地复制（不支持在两个远程主机之间复制文件）。

- rsync有两种不同的方式联系远程系统：
  - 使用远程shell程序作为传输方式（如ssh或rsh）或通过TCP直接联系rsync守护进程。
  - 当源路径或目标路径在主机规格后包含一个冒号（:）分隔符时，就会使用远程shell传输。
  - 当源路径或目标路径在主机规范后包含双冒号(::)分隔符，
  - 或者指定了rsync://URL时，就会直接联系rsync守护进程(参见 "通过远程壳连接使用RSYNC-DAEMON功能 "一节，了解后一种规则的例外情况)。


- 作为一种特殊情况，如果指定了一个单一的源参数而没有目的地，那么文件会以类似于 "ls -l "的输出格式列出。
- 如同预期的那样，如果源路径或目标路径都没有指定远程主机，那么复制就会在本地进行（也请参见 --list-only 选项）。

- Rsync指的是本地端作为客户端，远程端作为服务器。
- 不要把服务器和rsync守护进程混为一谈，守护进程永远是服务器，但服务器可以是守护进程，也可以是远程shell生成的进程。
- 守护进程总是服务器，但服务器可以是守护进程，也可以是远程shell生成的进程。

## 设置
- 请参阅文件README.md中的安装说明。

- 安装后，您可以通过远程shell访问任何一台机器（以及一些使用rsync守护进程模式协议的机器）。
- 对于远程传输，现代的rsync使用ssh进行通信，但它可能已经被配置为使用不同的远程shell，如rsh或remsh。

- 你也可以通过使用-e命令行选项或设置RSYNC_RSH环境变量来指定任何你喜欢的远程shell。
- 请注意，源机器和目标机器上都必须安装rsync。